<header>
    <img class="logo-img" src="../../../assets/logo.png" alt="logo">
</header>

<section class="table__sec">
    <div class="head">
        <div class="dummy__text">Lorem ipsum is a dummy text</div>
        <button [class]="idsToDelete.length < 1 ? 'disabled delete__btn' : 'delete__btn'" (click)="open(mymodal, idsToDelete)" [disabled]="idsToDelete.length < 1">Delete</button>
    </div>
    <div [class]="userData.length < 1 ? '' : 'table-responsive'">
        <table class="table table-bordered"  matSort (matSortChange)="sortData($event)">
            <thead>
                <tr>
                    <th scope="col">
                        <input class="form-check-input" type="checkbox" [(ngModel)]="checkAll" 
                        (change)="toggleAll()">
                    </th>
                    <th scope="col" mat-sort-header="name">
                        User Name
                    </th>
                    <th scope="col" mat-sort-header="phone">
                        Phone Number
                    </th>
                    <th scope="col" mat-sort-header="email">
                        Email ID
                    </th>
                    <th scope="col">
                        Options
                        <svg  matTooltip="Info about the action" width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.99864 12.3333C4.84497 12.3331 3.71727 11.9907 2.75814 11.3496C1.79901 10.7085 1.05153 9.79737 0.610199 8.73145C0.168872 7.66553 0.0535228 6.49268 0.278738 5.3612C0.503954 4.22972 1.05962 3.19044 1.87547 2.37475C2.69133 1.55906 3.73073 1.00361 4.86225 0.778627C5.99377 0.553643 7.1666 0.669233 8.23243 1.11078C9.29827 1.55233 10.2092 2.3 10.8502 3.25926C11.4911 4.21852 11.8332 5.34629 11.8332 6.49996C11.8317 8.04681 11.2165 9.52986 10.1226 10.6235C9.02867 11.7172 7.54549 12.3321 5.99864 12.3333ZM5.50791 5.58268C5.51658 5.58253 5.52522 5.58388 5.53343 5.58667C5.5691 5.60136 5.59801 5.62882 5.61453 5.66369C5.63104 5.69855 5.63396 5.73832 5.62272 5.77523L4.65243 8.98709C4.62492 9.06967 4.61576 9.15725 4.62561 9.24374C4.63546 9.33022 4.66406 9.4135 4.70943 9.48778C4.77388 9.57874 4.85701 9.65488 4.95326 9.71111C5.04951 9.76735 5.15665 9.80238 5.26753 9.81387C5.98509 9.81387 6.42957 9.3662 6.91074 8.64386C6.91074 8.61715 6.91353 8.57609 6.91632 8.53543C6.92757 8.43668 6.92904 8.33707 6.9207 8.23804L6.33549 8.94364C6.25629 9.0469 6.14348 9.11924 6.01658 9.14814C6.00711 9.14817 5.99769 9.14669 5.98868 9.14375C5.95586 9.13083 5.92873 9.10664 5.91215 9.07551C5.89556 9.04439 5.89061 9.00838 5.89818 8.97393L6.87326 5.74493C6.89587 5.64768 6.89783 5.54677 6.87902 5.44872C6.8602 5.35066 6.82103 5.25765 6.76404 5.17567C6.70463 5.09936 6.62963 5.0366 6.54405 4.99158C6.45846 4.94655 6.36426 4.92029 6.26773 4.91456C5.78377 4.91456 5.05705 5.4328 4.61256 6.09773C4.61256 6.11527 4.61256 6.13759 4.61256 6.1667V6.18184C4.60736 6.28469 4.60895 6.38776 4.61735 6.49039L5.20415 5.78639C5.27907 5.68569 5.38631 5.61378 5.50791 5.58268ZM6.78038 3.11429C6.69169 3.11081 6.60323 3.1256 6.52051 3.15777C6.43778 3.18993 6.36256 3.23877 6.29952 3.30125C6.23648 3.36373 6.18697 3.43852 6.15407 3.52095C6.12116 3.60338 6.10558 3.69171 6.10827 3.78042C6.10708 3.9136 6.14549 4.04413 6.21862 4.15544C6.29175 4.26676 6.3963 4.35383 6.519 4.40562C6.64171 4.45741 6.77703 4.47157 6.9078 4.44632C7.03857 4.42107 7.15888 4.35753 7.25348 4.26378C7.34807 4.17002 7.41268 4.05028 7.43911 3.91974C7.46553 3.7892 7.45257 3.65376 7.40188 3.5306C7.35119 3.40744 7.26505 3.30211 7.1544 3.22799C7.04374 3.15387 6.91356 3.1143 6.78038 3.11429Z" fill="#1494D5"/>
                        </svg>                            
                    </th>
                </tr>
            </thead>
            <tbody cdkDropList (cdkDropListDropped)="drop($event)">
                <tr cdkDrag cdkDragLockAxis="y" *ngFor="let user of userData" [id]="user.id">
                    <td>
                        <input class="form-check-input" type="checkbox" (change)="onCheckSingle(user.id, ch)" 
                       #ch [(ngModel)]="user.checked">
                    </td>
                    <td>{{user.name}}</td>
                    <td>{{user.phone}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <div class="actions">
                            <button class="action action__del" (click)="open(mymodal, [user.id])">
                                <svg width="8" height="10" viewBox="0 0 8 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.62531 10C0.902949 10 0.721654 9.92858 0.721654 9.28583V3.57247L0.546002 3.51319C0.403504 3.51491 0.265973 3.4608 0.16366 3.36272C0.0613461 3.26464 0.00266021 3.13064 0 2.98977V2.03411C0.00265906 1.89344 0.0612826 1.75959 0.16366 1.66186C0.266037 1.56412 0.403706 1.51049 0.546002 1.51278L2.1699 1.42996V0.715793C2.16327 0.620318 2.17756 0.52452 2.21152 0.434903C2.24548 0.345285 2.29827 0.263877 2.36671 0.196207C2.43516 0.128537 2.51733 0.0761711 2.60797 0.0425973C2.69862 0.00902357 2.79569 -0.00492674 2.89226 0.00162325H5.05934C5.15594 -0.00504624 5.25293 0.00889144 5.34363 0.042423C5.43433 0.0759545 5.51641 0.128337 5.58488 0.196032C5.65335 0.263728 5.70687 0.345056 5.74078 0.434728C5.7747 0.5244 5.78844 0.62029 5.7817 0.715793V1.42996H7.22642C7.52764 1.42996 7.94878 1.74491 7.94878 2.03272V2.9882C7.94878 3.63524 8.24719 3.5118 7.40348 3.5118L7.22712 3.57108V9.28444C7.22712 9.86577 6.98443 9.99861 6.32347 9.99861L1.62531 10ZM6.50124 9.28583V3.57247H1.44472V9.28583H6.50124ZM0.722359 2.14413V2.8583L7.29202 2.8848V2.13629L0.722359 2.14413ZM2.88944 1.42996H5.05652V0.715793H2.88944V1.42996ZM5.05652 8.57166V4.28664H5.77888V8.57166H5.05652ZM3.6118 8.57166V4.28664H4.33416V8.57166H3.6118ZM2.16708 8.57166V4.28664H2.88944V8.57166H2.16708Z" fill="#212121"/>
                                </svg>                                    
                            </button>
                            <button class="action action__arrange" cdkDragHandle>
                                <svg width="8" height="10" viewBox="0 0 8 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.7516 7.99408C3.1516 8.03253 4.96664 7.99412 6.22727 7.97821C5.16518 9.12932 4.93287 8.98084 4.05469 10C3.26051 9.1433 3.06887 9.37329 1.7516 7.99408ZM6.22727 6.66791V5.34174H7.5V6.66791H6.22727ZM4.31818 6.66791V5.34174H5.59091V6.66791H4.31818ZM2.40909 6.66791V5.34174H3.68182V6.66791H2.40909ZM0.5 6.66791V5.34174H1.77273V6.66791H0.5ZM6.22727 4.67866V3.35249H7.5V4.67866H6.22727ZM4.31818 4.67866V3.35249H5.59091V4.67866H4.31818ZM2.40909 4.67866V3.35249H3.68182V4.67866H2.40909ZM0.5 4.67866V3.35249H1.77273V4.67866H0.5ZM1.75284 2.02632L1.77459 2.00317H1.75284C3.07011 0.624622 3.26175 0.854052 4.05593 0C4.93411 1.01916 5.16642 0.870723 6.22852 2.01985H6.20739L6.22852 2.04235C4.96661 2.03108 3.14905 1.98861 1.7516 2.02972L1.75284 2.02632Z" fill="#212121"/>
                                </svg>                                    
                            </button>
                        </div>
                    </td>
                    <div *cdkDragPreview matchSize="true" class="dragdrop-placeholder">
                        {{user.name}}
                    </div>
                </tr>
            </tbody>
        </table>
    </div>

</section>

   

<ng-template #mymodal let-modal>
    <div class="modal__left">
        <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.65854 3.65854C-1.21951 8.53659 -1.21951 16.4634 3.65854 21.3415C8.53659 26.2195 16.4634 26.2195 21.3415 21.3415C26.2195 16.4634 26.2195 8.53659 21.3415 3.65854C16.4634 -1.21951 8.53659 -1.21951 3.65854 3.65854ZM5.60207 19.3979C2.13401 15.9298 1.82913 10.4421 4.72561 6.6311L18.3689 20.2744C14.5579 23.1709 9.07012 22.866 5.60213 19.3979L5.60207 19.3979ZM20.2743 18.3688L6.59292 4.72554C10.4039 1.82927 15.8917 2.13421 19.3597 5.602C22.8275 9.07006 23.1704 14.5578 20.2742 18.3688L20.2743 18.3688Z" fill="white"/>
        </svg>            
    </div>
    <div class="modal__right">
        <h1>Are you sure want to delete?</h1>

        <div class="modal__actions">
            <button type="button" class="btn btn__delete" (click)="modal.close('Save click')">Yes</button>

            <button type="button" class="close btn btn-outline-dark btn__cancel" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">Cancel</span>
            </button>
        </div>

      
    </div>
</ng-template>